# ç”¨æˆ·ç™»å½•æ³¨å†ŒæœåŠ¡æŠ€æœ¯è°ƒç ”æŠ¥å‘Š

## 1. é¡¹ç›®æ¦‚è¿°

æœ¬æŠ¥å‘ŠåŸºäº3Dç”Ÿæˆæ‰“å°å¹³å°çš„æŠ€æœ¯æ ˆï¼ˆVue3 + TypeScript + Vite + Piniaï¼‰ï¼Œè°ƒç ”é€‚åˆæœ¬é¡¹ç›®çš„ç”¨æˆ·ç™»å½•æ³¨å†ŒæœåŠ¡æ–¹æ¡ˆã€‚

### å½“å‰æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: Vue3 + TypeScript + Vite
- **çŠ¶æ€ç®¡ç†**: Pinia 2.1+
- **è·¯ç”±ç®¡ç†**: Vue Router 4.2+
- **HTTPå®¢æˆ·ç«¯**: Axios
- **UIæ¡†æ¶**: Tailwind CSS

## 2. è®¤è¯æœåŠ¡æ–¹æ¡ˆè°ƒç ”

### 2.1 æ–¹æ¡ˆä¸€ï¼šSupabase Authentication

**ç®€ä»‹**: Supabaseæ˜¯ä¸€ä¸ªå¼€æºçš„Firebaseæ›¿ä»£æ–¹æ¡ˆï¼Œæä¾›å®Œæ•´çš„åç«¯æœåŠ¡ï¼ŒåŒ…æ‹¬è®¤è¯ã€æ•°æ®åº“ã€å­˜å‚¨ç­‰ã€‚

**æŠ€æœ¯ç‰¹ç‚¹**:
- å®Œå…¨å…¼å®¹Vue3ç”Ÿæ€ç³»ç»Ÿ
- æä¾›å®˜æ–¹JavaScript SDK
- æ”¯æŒå¤šç§è®¤è¯æ–¹å¼
- å¼€æºä¸”å¯è‡ªæ‰˜ç®¡

**æ”¯æŒçš„è®¤è¯æ–¹å¼**:
- âœ… é‚®ç®± + å¯†ç 
- âœ… æ‰‹æœºå· + éªŒè¯ç 
- âœ… ç¬¬ä¸‰æ–¹OAuthï¼ˆGitHub, Google, Discordç­‰ï¼‰
- âœ… é­”æ³•é“¾æ¥ï¼ˆæ— å¯†ç ç™»å½•ï¼‰
- âœ… åŒ¿åç™»å½•

**é›†æˆç¤ºä¾‹**:
```typescript
// å®‰è£…
npm install @supabase/supabase-js

// åˆå§‹åŒ–
import { createClient } from '@supabase/supabase-js'

const supabase = createClient(
  'https://your-project.supabase.co',
  'your-anon-key'
)

// ç”¨æˆ·æ³¨å†Œ
const { data, error } = await supabase.auth.signUp({
  email: 'user@example.com',
  password: 'password123'
})

// ç”¨æˆ·ç™»å½•
const { data, error } = await supabase.auth.signInWithPassword({
  email: 'user@example.com',
  password: 'password123'
})

// OAuthç™»å½•
const { data, error } = await supabase.auth.signInWithOAuth({
  provider: 'github'
})
```

**åœ¨Piniaä¸­çš„çŠ¶æ€ç®¡ç†**:
```typescript
// stores/auth.ts
import { defineStore } from 'pinia'
import { supabase } from '@/utils/supabase'

export const useAuthStore = defineStore('auth', {
  state: () => ({
    user: null,
    session: null,
    isAuthenticated: false
  }),
  
  actions: {
    async signUp(email: string, password: string) {
      const { data, error } = await supabase.auth.signUp({
        email,
        password
      })
      if (data.user) {
        this.user = data.user
        this.session = data.session
        this.isAuthenticated = true
      }
      return { data, error }
    },
    
    async signIn(email: string, password: string) {
      const { data, error } = await supabase.auth.signInWithPassword({
        email,
        password
      })
      if (data.user) {
        this.user = data.user
        this.session = data.session
        this.isAuthenticated = true
      }
      return { data, error }
    },
    
    async signOut() {
      await supabase.auth.signOut()
      this.user = null
      this.session = null
      this.isAuthenticated = false
    }
  }
})
```

**ä¼˜ç‚¹**:
- ğŸŸ¢ å…è´¹é¢åº¦å……è¶³ï¼ˆ5ä¸‡æœˆæ´»ç”¨æˆ·ï¼‰
- ğŸŸ¢ å¼€ç®±å³ç”¨ï¼Œé›†æˆç®€å•
- ğŸŸ¢ æä¾›å®Œæ•´çš„åç«¯æœåŠ¡ï¼ˆæ•°æ®åº“ã€å­˜å‚¨ã€å®æ—¶è®¢é˜…ï¼‰
- ğŸŸ¢ æ”¯æŒè‡ªæ‰˜ç®¡
- ğŸŸ¢ ä¸°å¯Œçš„æ–‡æ¡£å’Œç¤¾åŒºæ”¯æŒ
- ğŸŸ¢ å†…ç½®è¡Œçº§å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰

**ç¼ºç‚¹**:
- ğŸ”´ ä¾èµ–ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆé™¤éè‡ªæ‰˜ç®¡ï¼‰
- ğŸ”´ å›½å†…è®¿é—®å¯èƒ½éœ€è¦ä»£ç†

**é€‚ç”¨åœºæ™¯**: éœ€è¦å¿«é€Ÿä¸Šçº¿ã€é¢„ç®—æœ‰é™ã€éœ€è¦å®Œæ•´åç«¯æœåŠ¡çš„é¡¹ç›®

---

### 2.2 æ–¹æ¡ˆäºŒï¼šAuth0

**ç®€ä»‹**: Auth0æ˜¯ä¼ä¸šçº§çš„èº«ä»½è®¤è¯å’Œæˆæƒå¹³å°ï¼Œç”±Oktaæä¾›ã€‚

**æŠ€æœ¯ç‰¹ç‚¹**:
- ä¼ä¸šçº§å®‰å…¨æ ‡å‡†
- æ”¯æŒå•ç‚¹ç™»å½•ï¼ˆSSOï¼‰
- æä¾›Vue3 SDK
- å¼ºå¤§çš„ç”¨æˆ·ç®¡ç†åŠŸèƒ½

**æ”¯æŒçš„è®¤è¯æ–¹å¼**:
- âœ… ç”¨æˆ·å + å¯†ç 
- âœ… ç¤¾äº¤ç™»å½•ï¼ˆ40+æä¾›å•†ï¼‰
- âœ… ä¼ä¸šç™»å½•ï¼ˆSAML, LDAPï¼‰
- âœ… æ— å¯†ç ç™»å½•
- âœ… å¤šå› ç´ è®¤è¯ï¼ˆMFAï¼‰
- âœ… ç”Ÿç‰©è¯†åˆ«

**é›†æˆç¤ºä¾‹**:
```typescript
// å®‰è£…
npm install @auth0/auth0-vue

// main.ts
import { createAuth0 } from '@auth0/auth0-vue'

app.use(
  createAuth0({
    domain: 'your-domain.auth0.com',
    clientId: 'your-client-id',
    authorizationParams: {
      redirect_uri: window.location.origin
    }
  })
)

// ç»„ä»¶ä¸­ä½¿ç”¨
<script setup lang="ts">
import { useAuth0 } from '@auth0/auth0-vue'

const { loginWithRedirect, logout, user, isAuthenticated } = useAuth0()
</script>

<template>
  <div v-if="!isAuthenticated">
    <button @click="loginWithRedirect()">ç™»å½•</button>
  </div>
  <div v-else>
    <p>æ¬¢è¿, {{ user.name }}</p>
    <button @click="logout()">é€€å‡º</button>
  </div>
</template>
```

**ä¼˜ç‚¹**:
- ğŸŸ¢ ä¼ä¸šçº§å®‰å…¨æ€§
- ğŸŸ¢ æ”¯æŒå¤§è§„æ¨¡ç”¨æˆ·ç®¡ç†
- ğŸŸ¢ ä¸°å¯Œçš„è®¤è¯é€‰é¡¹
- ğŸŸ¢ å®Œå–„çš„å®¡è®¡æ—¥å¿—
- ğŸŸ¢ ç¬¦åˆGDPRã€SOC2ç­‰åˆè§„è¦æ±‚

**ç¼ºç‚¹**:
- ğŸ”´ å…è´¹é¢åº¦è¾ƒå°‘ï¼ˆ7000æ´»è·ƒç”¨æˆ·ï¼‰
- ğŸ”´ ä»·æ ¼è¾ƒé«˜ï¼ˆä»˜è´¹ç‰ˆä»$23/æœˆèµ·ï¼‰
- ğŸ”´ é…ç½®ç›¸å¯¹å¤æ‚

**é€‚ç”¨åœºæ™¯**: ä¼ä¸šçº§åº”ç”¨ã€éœ€è¦é«˜çº§å®‰å…¨åŠŸèƒ½ã€å¤šç§Ÿæˆ·SaaSåº”ç”¨

---

### 2.3 æ–¹æ¡ˆä¸‰ï¼šFirebase Authentication

**ç®€ä»‹**: Googleæä¾›çš„ç§»åŠ¨å’ŒWebåº”ç”¨åç«¯æœåŠ¡å¹³å°ã€‚

**æŠ€æœ¯ç‰¹ç‚¹**:
- GoogleåŸºç¡€è®¾æ–½æ”¯æŒ
- ä¸Firebaseå…¶ä»–æœåŠ¡æ·±åº¦é›†æˆ
- è‡ªåŠ¨å¤„ç†ä»¤ç‰Œåˆ·æ–°
- è·¨å¹³å°æ”¯æŒ

**æ”¯æŒçš„è®¤è¯æ–¹å¼**:
- âœ… é‚®ç®± + å¯†ç 
- âœ… æ‰‹æœºå·ç 
- âœ… Googleè´¦å·
- âœ… Facebook, Twitterç­‰ç¤¾äº¤è´¦å·
- âœ… åŒ¿åè®¤è¯
- âœ… è‡ªå®šä¹‰è®¤è¯ç³»ç»Ÿ

**é›†æˆç¤ºä¾‹**:
```typescript
// å®‰è£…
npm install firebase

// åˆå§‹åŒ–
import { initializeApp } from 'firebase/app'
import { 
  getAuth, 
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signInWithPopup,
  GoogleAuthProvider
} from 'firebase/auth'

const firebaseConfig = {
  apiKey: "your-api-key",
  authDomain: "your-app.firebaseapp.com",
  projectId: "your-project-id"
}

const app = initializeApp(firebaseConfig)
const auth = getAuth(app)

// æ³¨å†Œ
const userCredential = await createUserWithEmailAndPassword(
  auth, 
  email, 
  password
)

// ç™»å½•
const userCredential = await signInWithEmailAndPassword(
  auth, 
  email, 
  password
)

// Googleç™»å½•
const provider = new GoogleAuthProvider()
const result = await signInWithPopup(auth, provider)
```

**åœ¨Piniaä¸­é›†æˆ**:
```typescript
// stores/auth.ts
import { defineStore } from 'pinia'
import { auth } from '@/utils/firebase'
import { 
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signOut,
  onAuthStateChanged,
  type User
} from 'firebase/auth'

export const useAuthStore = defineStore('auth', {
  state: () => ({
    user: null as User | null,
    isAuthenticated: false,
    loading: false
  }),
  
  actions: {
    async init() {
      return new Promise((resolve) => {
        onAuthStateChanged(auth, (user) => {
          this.user = user
          this.isAuthenticated = !!user
          resolve(user)
        })
      })
    },
    
    async register(email: string, password: string) {
      this.loading = true
      try {
        const credential = await createUserWithEmailAndPassword(
          auth, 
          email, 
          password
        )
        this.user = credential.user
        this.isAuthenticated = true
      } finally {
        this.loading = false
      }
    },
    
    async login(email: string, password: string) {
      this.loading = true
      try {
        const credential = await signInWithEmailAndPassword(
          auth, 
          email, 
          password
        )
        this.user = credential.user
        this.isAuthenticated = true
      } finally {
        this.loading = false
      }
    },
    
    async logout() {
      await signOut(auth)
      this.user = null
      this.isAuthenticated = false
    }
  }
})
```

**ä¼˜ç‚¹**:
- ğŸŸ¢ GoogleåŸºç¡€è®¾æ–½ä¿éšœ
- ğŸŸ¢ å…è´¹é¢åº¦è¾ƒå¤§
- ğŸŸ¢ é›†æˆç®€å•
- ğŸŸ¢ æä¾›å®Œæ•´çš„åç«¯æœåŠ¡
- ğŸŸ¢ è‡ªåŠ¨æ‰©å±•

**ç¼ºç‚¹**:
- ğŸ”´ å›½å†…è®¿é—®å—é™
- ğŸ”´ ä¾èµ–GoogleæœåŠ¡
- ğŸ”´ æ•°æ®å­˜å‚¨åœ¨æµ·å¤–

**é€‚ç”¨åœºæ™¯**: å›½é™…åŒ–åº”ç”¨ã€éœ€è¦Googleç”Ÿæ€é›†æˆçš„é¡¹ç›®

---

### 2.4 æ–¹æ¡ˆå››ï¼šClerk

**ç®€ä»‹**: ä¸“ä¸ºç°ä»£Webåº”ç”¨è®¾è®¡çš„è®¤è¯å’Œç”¨æˆ·ç®¡ç†å¹³å°ã€‚

**æŠ€æœ¯ç‰¹ç‚¹**:
- ä¸“æ³¨äºç”¨æˆ·ä½“éªŒ
- æä¾›é¢„æ„å»ºUIç»„ä»¶
- å®˜æ–¹Vue3æ”¯æŒ
- ç°ä»£åŒ–çš„å¼€å‘ä½“éªŒ

**æ”¯æŒçš„è®¤è¯æ–¹å¼**:
- âœ… é‚®ç®± + å¯†ç 
- âœ… æ‰‹æœºå· + éªŒè¯ç 
- âœ… ç¤¾äº¤ç™»å½•ï¼ˆGoogle, GitHubç­‰ï¼‰
- âœ… Web3é’±åŒ…ç™»å½•
- âœ… å¤šå› ç´ è®¤è¯
- âœ… ç»„ç»‡ç®¡ç†ï¼ˆB2BåŠŸèƒ½ï¼‰

**é›†æˆç¤ºä¾‹**:
```typescript
// å®‰è£…
npm install @clerk/vue

// main.ts
import { clerkPlugin } from '@clerk/vue'

app.use(clerkPlugin, {
  publishableKey: import.meta.env.VITE_CLERK_PUBLISHABLE_KEY
})

// App.vue
<template>
  <ClerkProvider>
    <router-view />
  </ClerkProvider>
</template>

// ä½¿ç”¨é¢„æ„å»ºç»„ä»¶
<script setup lang="ts">
import { 
  SignIn, 
  SignUp, 
  UserButton,
  useUser,
  useAuth 
} from '@clerk/vue'

const { isSignedIn, user } = useUser()
const { signOut } = useAuth()
</script>

<template>
  <div>
    <UserButton v-if="isSignedIn" />
    <SignIn v-else />
  </div>
</template>
```

**ä¼˜ç‚¹**:
- ğŸŸ¢ å¼€å‘ä½“éªŒæä½³
- ğŸŸ¢ é¢„æ„å»ºUIç»„ä»¶ç¾è§‚ä¸”å¯å®šåˆ¶
- ğŸŸ¢ æ”¯æŒWeb3è®¤è¯
- ğŸŸ¢ å¼ºå¤§çš„ç»„ç»‡/å›¢é˜Ÿç®¡ç†åŠŸèƒ½
- ğŸŸ¢ è¯¦ç»†çš„å¼€å‘è€…æ–‡æ¡£

**ç¼ºç‚¹**:
- ğŸ”´ å…è´¹ç‰ˆåŠŸèƒ½å—é™ï¼ˆ5000æœˆæ´»ç”¨æˆ·ï¼‰
- ğŸ”´ ä»·æ ¼è¾ƒé«˜ï¼ˆProç‰ˆ$25/æœˆèµ·ï¼‰
- ğŸ”´ ç›¸å¯¹è¾ƒæ–°çš„æœåŠ¡

**é€‚ç”¨åœºæ™¯**: B2B SaaSåº”ç”¨ã€éœ€è¦ç»„ç»‡ç®¡ç†ã€é‡è§†ç”¨æˆ·ä½“éªŒçš„é¡¹ç›®

---

### 2.5 æ–¹æ¡ˆäº”ï¼šè‡ªå»ºè®¤è¯ç³»ç»Ÿ

**ç®€ä»‹**: ä½¿ç”¨å¼€æºåº“è‡ªè¡Œæ­å»ºè®¤è¯ç³»ç»Ÿã€‚

**æ¨èæŠ€æœ¯æ ˆ**:
- **åç«¯**: Node.js + Express / Fastify
- **æ•°æ®åº“**: PostgreSQL / MySQL
- **è®¤è¯åº“**: Passport.js / jsonwebtoken
- **å¯†ç åŠ å¯†**: bcrypt
- **ä¼šè¯ç®¡ç†**: express-session / JWT

**æ ¸å¿ƒå®ç°**:

**åç«¯API**:
```typescript
// server/auth.ts
import express from 'express'
import bcrypt from 'bcrypt'
import jwt from 'jsonwebtoken'
import { db } from './database'

const router = express.Router()

// æ³¨å†Œ
router.post('/register', async (req, res) => {
  const { email, password, username } = req.body
  
  const hashedPassword = await bcrypt.hash(password, 10)
  
  const user = await db.users.create({
    email,
    username,
    password: hashedPassword
  })
  
  const token = jwt.sign(
    { userId: user.id }, 
    process.env.JWT_SECRET!,
    { expiresIn: '7d' }
  )
  
  res.json({ user, token })
})

// ç™»å½•
router.post('/login', async (req, res) => {
  const { email, password } = req.body
  
  const user = await db.users.findByEmail(email)
  if (!user) {
    return res.status(401).json({ error: 'ç”¨æˆ·ä¸å­˜åœ¨' })
  }
  
  const valid = await bcrypt.compare(password, user.password)
  if (!valid) {
    return res.status(401).json({ error: 'å¯†ç é”™è¯¯' })
  }
  
  const token = jwt.sign(
    { userId: user.id },
    process.env.JWT_SECRET!,
    { expiresIn: '7d' }
  )
  
  res.json({ user, token })
})

// éªŒè¯ä¸­é—´ä»¶
export function requireAuth(req, res, next) {
  const token = req.headers.authorization?.replace('Bearer ', '')
  
  if (!token) {
    return res.status(401).json({ error: 'æœªæˆæƒ' })
  }
  
  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET!)
    req.userId = decoded.userId
    next()
  } catch (error) {
    return res.status(401).json({ error: 'ä»¤ç‰Œæ— æ•ˆ' })
  }
}
```

**å‰ç«¯é›†æˆ**:
```typescript
// utils/api.ts
import axios from 'axios'

const api = axios.create({
  baseURL: import.meta.env.VITE_API_URL
})

api.interceptors.request.use((config) => {
  const token = localStorage.getItem('auth_token')
  if (token) {
    config.headers.Authorization = `Bearer ${token}`
  }
  return config
})

export default api

// stores/auth.ts
import { defineStore } from 'pinia'
import api from '@/utils/api'

export const useAuthStore = defineStore('auth', {
  state: () => ({
    user: null,
    token: localStorage.getItem('auth_token'),
    isAuthenticated: false
  }),
  
  actions: {
    async register(email: string, password: string, username: string) {
      const { data } = await api.post('/auth/register', {
        email,
        password,
        username
      })
      
      this.user = data.user
      this.token = data.token
      this.isAuthenticated = true
      localStorage.setItem('auth_token', data.token)
    },
    
    async login(email: string, password: string) {
      const { data } = await api.post('/auth/login', {
        email,
        password
      })
      
      this.user = data.user
      this.token = data.token
      this.isAuthenticated = true
      localStorage.setItem('auth_token', data.token)
    },
    
    async logout() {
      this.user = null
      this.token = null
      this.isAuthenticated = false
      localStorage.removeItem('auth_token')
    },
    
    async fetchUser() {
      if (!this.token) return
      
      try {
        const { data } = await api.get('/auth/me')
        this.user = data
        this.isAuthenticated = true
      } catch (error) {
        this.logout()
      }
    }
  }
})
```

**OAuthé›†æˆï¼ˆå¯é€‰ï¼‰**:
```typescript
// ä½¿ç”¨ Passport.js æ”¯æŒç¬¬ä¸‰æ–¹ç™»å½•
import passport from 'passport'
import { Strategy as GitHubStrategy } from 'passport-github2'

passport.use(new GitHubStrategy({
  clientID: process.env.GITHUB_CLIENT_ID!,
  clientSecret: process.env.GITHUB_CLIENT_SECRET!,
  callbackURL: "http://localhost:3000/auth/github/callback"
},
async (accessToken, refreshToken, profile, done) => {
  let user = await db.users.findByGithubId(profile.id)
  
  if (!user) {
    user = await db.users.create({
      githubId: profile.id,
      username: profile.username,
      email: profile.emails?.[0]?.value
    })
  }
  
  return done(null, user)
}))
```

**ä¼˜ç‚¹**:
- ğŸŸ¢ å®Œå…¨æ§åˆ¶å’Œè‡ªå®šä¹‰
- ğŸŸ¢ æ— ç¬¬ä¸‰æ–¹ä¾èµ–
- ğŸŸ¢ æ•°æ®å®Œå…¨æŒæ§
- ğŸŸ¢ æ— ä½¿ç”¨é™åˆ¶
- ğŸŸ¢ é•¿æœŸæˆæœ¬ä½

**ç¼ºç‚¹**:
- ğŸ”´ å¼€å‘æ—¶é—´é•¿
- ğŸ”´ éœ€è¦ç»´æŠ¤å’Œæ›´æ–°
- ğŸ”´ å®‰å…¨æ€§éœ€è‡ªè¡Œä¿è¯
- ğŸ”´ éœ€è¦æœåŠ¡å™¨èµ„æº
- ğŸ”´ åŠŸèƒ½éœ€è‡ªè¡Œå¼€å‘

**é€‚ç”¨åœºæ™¯**: æœ‰ç‰¹æ®Šéœ€æ±‚ã€éœ€è¦å®Œå…¨æ§åˆ¶ã€æŠ€æœ¯å›¢é˜Ÿå……è¶³çš„é¡¹ç›®

---

## 3. æ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§ | Supabase | Auth0 | Firebase | Clerk | è‡ªå»ºç³»ç»Ÿ |
|-----|----------|-------|----------|-------|---------|
| **é›†æˆéš¾åº¦** | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­ |
| **å¼€å‘é€Ÿåº¦** | å¿« | ä¸­ | å¿« | æå¿« | æ…¢ |
| **å…è´¹é¢åº¦** | 5ä¸‡MAU | 7åƒMAU | æ— é™ | 5åƒMAU | æ— é™ |
| **ä»˜è´¹ä»·æ ¼** | $25/æœˆèµ· | $23/æœˆèµ· | æŒ‰ç”¨é‡ | $25/æœˆèµ· | æœåŠ¡å™¨æˆæœ¬ |
| **å›½å†…å¯ç”¨æ€§** | éœ€ä»£ç† | è‰¯å¥½ | å—é™ | è‰¯å¥½ | å®Œå…¨å¯æ§ |
| **è‡ªå®šä¹‰èƒ½åŠ›** | â­â­â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **å®‰å…¨æ€§** | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| **ç»´æŠ¤æˆæœ¬** | ä½ | ä½ | ä½ | ä½ | é«˜ |
| **ç¤¾äº¤ç™»å½•** | âœ… | âœ… | âœ… | âœ… | éœ€å¼€å‘ |
| **MFAæ”¯æŒ** | âœ… | âœ… | âœ… | âœ… | éœ€å¼€å‘ |
| **ç”¨æˆ·ç®¡ç†** | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­â­ |
| **åç«¯æœåŠ¡** | æ•°æ®åº“+å­˜å‚¨ | ä»…è®¤è¯ | å®Œæ•´æœåŠ¡ | ä»…è®¤è¯ | éœ€è‡ªå»º |

*MAU = Monthly Active Usersï¼ˆæœˆæ´»è·ƒç”¨æˆ·ï¼‰*

---

## 4. æ¨èæ–¹æ¡ˆ

### 4.1 é’ˆå¯¹æœ¬é¡¹ç›®çš„æ¨è

åŸºäº3Dç”Ÿæˆæ‰“å°å¹³å°çš„ç‰¹ç‚¹ï¼Œæ¨èä»¥ä¸‹æ–¹æ¡ˆï¼š

#### ğŸ¥‡ é¦–é€‰ï¼šSupabase

**ç†ç”±**:
1. **ä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆ**: é™¤äº†è®¤è¯ï¼Œè¿˜æä¾›æ•°æ®åº“å’Œå­˜å‚¨æœåŠ¡ï¼Œå¯ä»¥å­˜å‚¨3Dæ¨¡å‹æ•°æ®å’Œç”¨æˆ·ç”Ÿæˆçš„å†…å®¹
2. **å¼€æºå¯è‡ªæ‰˜ç®¡**: å¦‚æœé‡åˆ°å›½å†…è®¿é—®é—®é¢˜ï¼Œå¯ä»¥é€‰æ‹©è‡ªæ‰˜ç®¡
3. **PostgreSQLæ•°æ®åº“**: é€‚åˆå­˜å‚¨å¤æ‚çš„3Dæ¨¡å‹å…ƒæ•°æ®å’Œç”¨æˆ·å…³ç³»
4. **å®æ—¶åŠŸèƒ½**: æ”¯æŒå®æ—¶è®¢é˜…ï¼Œå¯ç”¨äºæ‰“å°ä»»åŠ¡çŠ¶æ€æ›´æ–°
5. **æ€§ä»·æ¯”é«˜**: å…è´¹é¢åº¦å……è¶³ï¼Œé€‚åˆåˆåˆ›é¡¹ç›®

**é›†æˆå»ºè®®**:
```typescript
// é¡¹ç›®ç»“æ„å»ºè®®
src/
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ supabase.ts          // Supabaseå®¢æˆ·ç«¯åˆå§‹åŒ–
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ auth.ts              // è®¤è¯çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ models.ts            // 3Dæ¨¡å‹æ•°æ®ç®¡ç†
â”‚   â””â”€â”€ tasks.ts             // æ‰“å°ä»»åŠ¡ç®¡ç†
â”œâ”€â”€ composables/
â”‚   â”œâ”€â”€ useAuth.ts           // è®¤è¯é€»è¾‘å°è£…
â”‚   â””â”€â”€ useSupabase.ts       // Supabaseé€šç”¨é€»è¾‘
â””â”€â”€ views/
    â”œâ”€â”€ Login.vue            // ç™»å½•é¡µé¢
    â”œâ”€â”€ Register.vue         // æ³¨å†Œé¡µé¢
    â””â”€â”€ Profile.vue          // ç”¨æˆ·èµ„æ–™é¡µé¢
```

#### ğŸ¥ˆ å¤‡é€‰ï¼šClerk

**ç†ç”±**:
1. **æä½³çš„ç”¨æˆ·ä½“éªŒ**: é¢„æ„å»ºçš„UIç»„ä»¶éå¸¸ç²¾ç¾
2. **Web3æ”¯æŒ**: å¦‚æœæœªæ¥è€ƒè™‘NFTæˆ–åŒºå—é“¾åŠŸèƒ½ï¼ŒClerkçš„Web3è®¤è¯ä¼šå¾ˆæœ‰ç”¨
3. **ç»„ç»‡ç®¡ç†**: å¦‚æœéœ€è¦æ”¯æŒå›¢é˜Ÿ/ä¼ä¸šç”¨æˆ·ï¼ŒClerkçš„ç»„ç»‡åŠŸèƒ½å¾ˆå¼ºå¤§

**é€‚ç”¨æƒ…å†µ**: å¦‚æœé¢„ç®—å……è¶³ï¼Œé‡è§†ç”¨æˆ·ä½“éªŒï¼Œæˆ–æœ‰B2Béœ€æ±‚

#### ğŸ¥‰ å›½å†…æ›¿ä»£æ–¹æ¡ˆ

å¦‚æœä¸»è¦é¢å‘å›½å†…ç”¨æˆ·ï¼Œå»ºè®®è€ƒè™‘ï¼š

**è‡ªå»ºç³»ç»Ÿ + å›½å†…æœåŠ¡**:
- åç«¯ï¼šNode.js/Go + PostgreSQL
- çŸ­ä¿¡éªŒè¯ï¼šé˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡ / è…¾è®¯äº‘çŸ­ä¿¡
- å¯¹è±¡å­˜å‚¨ï¼šä¸ƒç‰›äº‘ / é˜¿é‡Œäº‘OSSï¼ˆå­˜å‚¨3Dæ¨¡å‹ï¼‰
- ç¬¬ä¸‰æ–¹ç™»å½•ï¼šå¾®ä¿¡ / QQ / æ”¯ä»˜å®

**ä¼˜åŠ¿**: å›½å†…è®¿é—®ç¨³å®šï¼Œç¬¦åˆå›½å†…ç”¨æˆ·ä¹ æƒ¯

---

## 5. å®æ–½è·¯çº¿å›¾

### é˜¶æ®µä¸€ï¼šåŸºç¡€è®¤è¯ï¼ˆç¬¬1-2å‘¨ï¼‰
- [ ] é€‰æ‹©è®¤è¯æ–¹æ¡ˆå¹¶å®ŒæˆæŠ€æœ¯é€‰å‹
- [ ] æ­å»ºåŸºç¡€è®¤è¯ç³»ç»Ÿ
- [ ] å®ç°é‚®ç®±å¯†ç æ³¨å†Œç™»å½•
- [ ] åˆ›å»ºç™»å½•/æ³¨å†Œé¡µé¢UI
- [ ] é›†æˆPiniaçŠ¶æ€ç®¡ç†
- [ ] å®ç°è·¯ç”±å®ˆå«

### é˜¶æ®µäºŒï¼šå¢å¼ºåŠŸèƒ½ï¼ˆç¬¬3-4å‘¨ï¼‰
- [ ] æ·»åŠ ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆGitHub/Googleï¼‰
- [ ] å®ç°å¯†ç é‡ç½®åŠŸèƒ½
- [ ] æ·»åŠ é‚®ç®±éªŒè¯
- [ ] å®ç°ç”¨æˆ·ä¸ªäººèµ„æ–™é¡µ
- [ ] æ·»åŠ å¤´åƒä¸Šä¼ åŠŸèƒ½

### é˜¶æ®µä¸‰ï¼šé«˜çº§ç‰¹æ€§ï¼ˆç¬¬5-6å‘¨ï¼‰
- [ ] å®ç°å¤šå› ç´ è®¤è¯ï¼ˆMFAï¼‰
- [ ] æ·»åŠ ä¼šè¯ç®¡ç†
- [ ] å®ç°è®¾å¤‡ç®¡ç†
- [ ] æ·»åŠ å®‰å…¨æ—¥å¿—
- [ ] å®Œå–„æƒé™ç³»ç»Ÿ

### é˜¶æ®µå››ï¼šä¼˜åŒ–å’Œæµ‹è¯•ï¼ˆç¬¬7-8å‘¨ï¼‰
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨å®¡è®¡
- [ ] å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- [ ] ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] æ–‡æ¡£å®Œå–„

---

## 6. å®‰å…¨è€ƒè™‘

### 6.1 å‰ç«¯å®‰å…¨
- ä½¿ç”¨HTTPSç¡®ä¿ä¼ è¾“å®‰å…¨
- å®æ–½CSRFé˜²æŠ¤
- XSSé˜²æŠ¤ï¼ˆVue3å·²å†…ç½®ï¼‰
- æ•æ„Ÿä¿¡æ¯ä¸å­˜å‚¨åœ¨localStorageï¼ˆæ”¹ç”¨httpOnly cookiesï¼‰

### 6.2 å¯†ç ç­–ç•¥
- æœ€å°é•¿åº¦ï¼š8ä¸ªå­—ç¬¦
- åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦
- é˜²æ­¢å¸¸è§å¯†ç 
- å®æ–½å¯†ç å¼ºåº¦æ£€æµ‹

### 6.3 ä¼šè¯ç®¡ç†
- JWTä»¤ç‰Œæœ‰æ•ˆæœŸè®¾ç½®ï¼ˆæ¨è7-30å¤©ï¼‰
- åˆ·æ–°ä»¤ç‰Œæœºåˆ¶
- è‡ªåŠ¨ç™»å‡ºéæ´»è·ƒç”¨æˆ·
- æ”¯æŒå¼ºåˆ¶ç™»å‡ºæ‰€æœ‰è®¾å¤‡

### 6.4 é€Ÿç‡é™åˆ¶
- ç™»å½•å°è¯•æ¬¡æ•°é™åˆ¶ï¼ˆé˜²æš´åŠ›ç ´è§£ï¼‰
- æ³¨å†Œé¢‘ç‡é™åˆ¶ï¼ˆé˜²åƒåœ¾è´¦å·ï¼‰
- APIè°ƒç”¨é¢‘ç‡é™åˆ¶

---

## 7. æˆæœ¬ä¼°ç®—

### Supabaseï¼ˆæ¨èæ–¹æ¡ˆï¼‰
- **å…è´¹ç‰ˆ**: 
  - 50,000 æœˆæ´»è·ƒç”¨æˆ·
  - 500MB æ•°æ®åº“ç©ºé—´
  - 1GB æ–‡ä»¶å­˜å‚¨
  - 2GB å¸¦å®½
  
- **Proç‰ˆ**: $25/æœˆ
  - 100,000 æœˆæ´»è·ƒç”¨æˆ·
  - 8GB æ•°æ®åº“ç©ºé—´
  - 100GB æ–‡ä»¶å­˜å‚¨
  - 250GB å¸¦å®½

### è‡ªå»ºæ–¹æ¡ˆ
- æœåŠ¡å™¨ï¼š$5-20/æœˆï¼ˆåˆæœŸï¼‰
- æ•°æ®åº“ï¼š$10-30/æœˆ
- çŸ­ä¿¡æœåŠ¡ï¼šÂ¥0.03-0.05/æ¡
- å¯¹è±¡å­˜å‚¨ï¼šæŒ‰å®é™…ä½¿ç”¨é‡
- **æ€»è®¡**: çº¦$20-60/æœˆ

---

## 8. ç»“è®ºä¸å»ºè®®

### æœ€ç»ˆæ¨èï¼šSupabase

**æ ¸å¿ƒåŸå› **:
1. âœ… å®Œç¾é€‚é…Vue3æŠ€æœ¯æ ˆ
2. âœ… æä¾›å®Œæ•´åç«¯æœåŠ¡ï¼ˆè®¤è¯+æ•°æ®åº“+å­˜å‚¨ï¼‰
3. âœ… å¼€å‘æ•ˆç‡é«˜ï¼Œèƒ½å¿«é€Ÿä¸Šçº¿MVP
4. âœ… å…è´¹é¢åº¦å……è¶³ï¼Œé€‚åˆé¡¹ç›®åˆæœŸ
5. âœ… å¯è‡ªæ‰˜ç®¡ï¼Œæœªæ¥å¯è¿ç§»
6. âœ… æ´»è·ƒçš„ç¤¾åŒºå’Œå®Œå–„çš„æ–‡æ¡£

### å®æ–½å»ºè®®

**çŸ­æœŸï¼ˆMVPé˜¶æ®µï¼‰**:
- ä½¿ç”¨Supabaseå¿«é€Ÿæ­å»ºè®¤è¯ç³»ç»Ÿ
- å®ç°åŸºç¡€çš„é‚®ç®±å¯†ç ç™»å½•
- æ·»åŠ GitHubç¬¬ä¸‰æ–¹ç™»å½•
- ä½¿ç”¨Supabaseæ•°æ®åº“å­˜å‚¨ç”¨æˆ·æ•°æ®

**ä¸­æœŸï¼ˆæˆé•¿é˜¶æ®µï¼‰**:
- æ ¹æ®ç”¨æˆ·åé¦ˆä¼˜åŒ–è®¤è¯æµç¨‹
- æ·»åŠ æ›´å¤šç¬¬ä¸‰æ–¹ç™»å½•é€‰é¡¹
- å®æ–½MFAå¢å¼ºå®‰å…¨æ€§
- å®Œå–„ç”¨æˆ·èµ„æ–™ç®¡ç†

**é•¿æœŸï¼ˆæˆç†Ÿé˜¶æ®µï¼‰**:
- è¯„ä¼°æ˜¯å¦éœ€è¦è‡ªæ‰˜ç®¡Supabase
- è€ƒè™‘å›½å†…è®¿é—®ä¼˜åŒ–æ–¹æ¡ˆ
- å®æ–½é«˜çº§å®‰å…¨ç‰¹æ€§
- æ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´æ–¹æ¡ˆ

### é£é™©ç¼“è§£
- **å›½å†…è®¿é—®é—®é¢˜**: å‡†å¤‡è‡ªæ‰˜ç®¡æ–¹æ¡ˆä½œä¸ºå¤‡é€‰
- **æˆæœ¬æ§åˆ¶**: ç›‘æ§ç”¨æˆ·å¢é•¿ï¼Œæå‰è§„åˆ’å‡çº§æ–¹æ¡ˆ
- **æ•°æ®å®‰å…¨**: å®šæœŸå¤‡ä»½ï¼Œå®æ–½ä¸¥æ ¼çš„è®¿é—®æ§åˆ¶

---

## 9. å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Supabaseæ–‡æ¡£](https://supabase.com/docs)
- [Auth0æ–‡æ¡£](https://auth0.com/docs)
- [Firebaseæ–‡æ¡£](https://firebase.google.com/docs)
- [Clerkæ–‡æ¡£](https://clerk.com/docs)

### Vue3é›†æˆç¤ºä¾‹
- [Supabase + Vue3ç¤ºä¾‹](https://github.com/supabase/examples/tree/main/supabase-js-v2/auth/vue3)
- [Auth0 Vue SDK](https://github.com/auth0/auth0-vue)
- [Vue3è®¤è¯æœ€ä½³å®è·µ](https://vuejs.org/guide/best-practices/security.html)

### å®‰å…¨æŒ‡å—
- [OWASPè®¤è¯å¤‡å¿˜å½•](https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html)
- [JWTæœ€ä½³å®è·µ](https://datatracker.ietf.org/doc/html/rfc8725)

---

**æŠ¥å‘Šç¼–å†™æ—¥æœŸ**: 2025å¹´10æœˆ25æ—¥  
**æŠ€æœ¯æ ˆç‰ˆæœ¬**: Vue 3.4+ / TypeScript 5.0+  
**é€‚ç”¨é¡¹ç›®**: 3Dç”Ÿæˆæ‰“å°å¹³å°
